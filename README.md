# HostManager - ä¼ä¸šçº§SSHè¿æ¥ç®¡ç†å·¥å…·

ğŸ–¥ï¸ **ç®€æ´ã€å¼ºå¤§ã€å¯ç»´æŠ¤** çš„SSHè¿æ¥ç®¡ç†å·¥å…·ï¼Œéµå¾ªä¸–ç•Œçº§ä»£ç æ¶æ„æ ‡å‡†ï¼Œä¸“ä¸ºiTerm2å’Œç»ˆç«¯ç”¨æˆ·è®¾è®¡ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ—ï¸ æ¶æ„è®¾è®¡
- **ç®€æ´åŸåˆ™**: éµå¾ªKISSå’ŒYAGNIåŸåˆ™ï¼Œé¿å…è¿‡åº¦å·¥ç¨‹åŒ–
- **å¯è¯»æ€§ä¼˜å…ˆ**: ä»£ç å³æ–‡æ¡£ï¼Œç›´è§‚æ˜“æ‡‚çš„é€»è¾‘ç»“æ„
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„è´£ä»»åˆ†ç¦»å’Œä½è€¦åˆæ¶æ„

### ğŸ¯ åŠŸèƒ½ç‰¹æ€§
- **åŒæ¨¡å¼æ”¯æŒ**: å…¨å±UIç•Œé¢ + å‘½ä»¤è¡Œå·¥å…·
- **åˆ†ç»„ç®¡ç†**: æŒ‰ç¯å¢ƒã€é¡¹ç›®ç­‰ç»´åº¦ç»„ç»‡ä¸»æœº
- **æ”¶è—åŠŸèƒ½**: å¿«é€Ÿè®¿é—®å¸¸ç”¨ä¸»æœº
- **æ™ºèƒ½æœç´¢**: æŒ‰åç§°ã€IPã€ç”¨æˆ·åæœç´¢
- **çŠ¶æ€ç›‘æ§**: æ‰¹é‡æ£€æŸ¥ä¸»æœºåœ¨çº¿çŠ¶æ€
- **å¿«é€Ÿè¿æ¥**: ä¸€é”®è¿æ¥å¸¸ç”¨ä¸»æœº
- **è¿æ¥å†å²**: è‡ªåŠ¨è®°å½•è¿æ¥è®°å½•
- **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜äº®/æš—è‰²ä¸»é¢˜
- **iTerm2é›†æˆ**: å®Œç¾é…åˆiTerm2ä½¿ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚
- Go 1.24.4+
- macOS/Linux/Windows
- ç»ˆç«¯æ”¯æŒï¼ˆæ¨èiTerm2ï¼‰

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/daihao4371/hostmanager.git
cd hostmanager

# å®‰è£…ä¾èµ–ï¼ˆè‡ªåŠ¨å¤„ç†ï¼‰
go mod download

# ç¼–è¯‘
go build .

# å®‰è£…åˆ°ç³»ç»Ÿï¼ˆæ¨èï¼‰
chmod +x install.sh
./install.sh
```

### åŸºæœ¬ä½¿ç”¨

```bash
# å¯åŠ¨å…¨å±UIç•Œé¢
./hostmanager

# æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
./hostmanager help

# åˆ—å‡ºæ‰€æœ‰ä¸»æœº
./hostmanager list

# æŒ‰åˆ†ç»„æ˜¾ç¤º
./hostmanager list --groups

# è¿æ¥åˆ°ä¸»æœº
./hostmanager connect server1

# æœç´¢ä¸»æœº
./hostmanager search web

# æ£€æŸ¥ä¸»æœºçŠ¶æ€
./hostmanager status server1
```

## ğŸ“‹ å‘½ä»¤è¡Œæ¥å£

### ä¸»è¦å‘½ä»¤

| å‘½ä»¤ | ç®€å†™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `connect` | `c` | è¿æ¥åˆ°æŒ‡å®šä¸»æœº | `hostmanager connect server1` |
| `list` | `ls`, `l` | æ˜¾ç¤ºä¸»æœºåˆ—è¡¨ | `hostmanager list --groups` |
| `status` | `s` | æ£€æŸ¥ä¸»æœºçŠ¶æ€ | `hostmanager status server1` |
| `search` | - | æœç´¢ä¸»æœº | `hostmanager search web` |
| `favorites` | `fav`, `f` | æ˜¾ç¤ºæ”¶è—å¤¹ | `hostmanager favorites` |
| `groups` | `g` | æŒ‰åˆ†ç»„æ˜¾ç¤º | `hostmanager groups` |
| `history` | `h` | æ˜¾ç¤ºè¿æ¥å†å² | `hostmanager history` |
| `help` | `--help`, `-h` | æ˜¾ç¤ºå¸®åŠ© | `hostmanager help` |
| `version` | `--version`, `-v` | æ˜¾ç¤ºç‰ˆæœ¬ | `hostmanager version` |

### ä¾¿æ·åˆ«åï¼ˆå®‰è£…åå¯ç”¨ï¼‰

```bash
hm                    # = hostmanager
hml                   # = hostmanager list
hmg                   # = hostmanager list --groups
hmf                   # = hostmanager favorites
hms server1           # = hostmanager status server1
hmc server1           # = hostmanager connect server1
hm-connect server1    # æ™ºèƒ½è¿æ¥å‡½æ•°
hm-search web         # æ™ºèƒ½æœç´¢å‡½æ•°
```

## ğŸ® å…¨å±UIç•Œé¢

æ— å‚æ•°è¿è¡Œæ—¶è¿›å…¥å…¨å±äº¤äº’ç•Œé¢ï¼š

```bash
./hostmanager
```

### UIå¿«æ·é”®

- `â†‘â†“` : å¯¼èˆª
- `Enter` : é€‰æ‹©/è¿æ¥
- `Esc` : è¿”å›/é€€å‡º
- `Space` : åˆ‡æ¢æ”¶è—
- `f` : æ”¶è—å¤¹æ¨¡å¼
- `s` : çŠ¶æ€æ£€æŸ¥
- `t` : åˆ‡æ¢ä¸»é¢˜
- `l` : åˆ‡æ¢å¸ƒå±€
- `/` : æœç´¢æ¨¡å¼
- `1-5` : å¿«é€Ÿè¿æ¥å†å²è®°å½•
- `q` : é€€å‡º

## ğŸ”§ iTerm2 é›†æˆ

### æ¨èè®¾ç½®

1. **åˆ›å»ºå¿«æ·é”®**ï¼š
   - `Cmd+Shift+H`: è¿è¡Œ `hostmanager list`
   - `Cmd+Shift+C`: è¿è¡Œ `hostmanager connect`

2. **Profileè®¾ç½®**ï¼š
   - ä¸ºä¸åŒç¯å¢ƒè®¾ç½®ä¸åŒçš„Profile
   - é…ç½®ä¸åŒçš„é¢œè‰²ä¸»é¢˜åŒºåˆ†ç¯å¢ƒ

3. **Split Paneä½¿ç”¨**ï¼š
   ```bash
   # åœ¨ä¸åŒé¢æ¿ä¸­åŒæ—¶è¿æ¥å¤šå°æœåŠ¡å™¨
   hostmanager connect server1  # å·¦ä¾§é¢æ¿
   hostmanager connect server2  # å³ä¾§é¢æ¿
   ```

### é«˜çº§é›†æˆ

```bash
# åœ¨iTerm2ä¸­åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°ï¼ˆéœ€è¦å®‰è£…fzfï¼‰
function quick-ssh() {
    local host=$(hostmanager list | fzf --header="é€‰æ‹©è¦è¿æ¥çš„ä¸»æœº" | awk '{print $2}')
    if [[ -n "$host" ]]; then
        hostmanager connect "$host"
    fi
}

# å¿«é€ŸçŠ¶æ€æ£€æŸ¥
function check-servers() {
    hostmanager status | grep -E "(ğŸ”´|â“)" && echo "å‘ç°ç¦»çº¿æˆ–æœªçŸ¥çŠ¶æ€çš„æœåŠ¡å™¨ï¼"
}
```

## âš™ï¸ é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`config.yaml`

```yaml
groups:
  - name: "ç”Ÿäº§ç¯å¢ƒ"
    hosts:
      - name: "WebæœåŠ¡å™¨-1"
        ip: "192.168.1.100"
        port: 22
        username: "admin"
        password: "your_password"
        favorite: true
        
  - name: "æµ‹è¯•ç¯å¢ƒ"
    hosts:
      - name: "æµ‹è¯•æœåŠ¡å™¨"
        ip: "192.168.1.200"
        port: 22
        username: "test"
        auth_type: "key"
        key_path: "~/.ssh/id_rsa"

ui_config:
  theme: "dark"  # "light" or "dark"
  language: "zh-CN"
  layout:
    type: "single"  # "single" or "columns"
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ¶æ„åŸåˆ™

æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ªä»¥ä¸‹æ¶æ„åŸåˆ™ï¼š

1. **ç®€æ´æ€§**: æ¯ä¸ªæ¨¡å—åªè´Ÿè´£å•ä¸€èŒè´£
2. **å¯è¯»æ€§**: ä»£ç è‡ªæ–‡æ¡£åŒ–ï¼Œé€»è¾‘æ¸…æ™°ç›´è§‚
3. **å¯ç»´æŠ¤æ€§**: ä½è€¦åˆé«˜å†…èšï¼Œæ˜“äºæ‰©å±•

### é¡¹ç›®ç»“æ„

```
hostmanager/
â”œâ”€â”€ main.go                 # åº”ç”¨å…¥å£ç‚¹ï¼ˆCLI/UIè·¯ç”±ï¼‰
â”œâ”€â”€ config.yaml            # é…ç½®æ–‡ä»¶ç¤ºä¾‹
â”œâ”€â”€ config.example.yaml    # é…ç½®æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ install.sh             # iTerm2é›†æˆå®‰è£…è„šæœ¬
â”œâ”€â”€ go.mod                 # Goæ¨¡å—ä¾èµ–ç®¡ç†
â”œâ”€â”€ internal/              # å†…éƒ¨åŒ…ï¼ˆä¸å¯¹å¤–æš´éœ²ï¼‰
â”‚   â”œâ”€â”€ cli/               # å‘½ä»¤è¡Œæ¥å£å±‚
â”‚   â”‚   â””â”€â”€ cli.go         # CLIå‘½ä»¤å¤„ç†å’Œè·¯ç”±
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†æ¨¡å—
â”‚   â”‚   â””â”€â”€ config.go      # é…ç½®æ–‡ä»¶è§£æå’ŒéªŒè¯
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â””â”€â”€ host.go        # ä¸»æœºæ•°æ®ç»“æ„å®šä¹‰
â”‚   â”œâ”€â”€ ssh/               # SSHè¿æ¥æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â””â”€â”€ connection.go  # SSHè¿æ¥å®ç°
â”‚   â”œâ”€â”€ theme/             # ä¸»é¢˜ç®¡ç†ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ theme.go       # ä¸»é¢˜é…ç½®å’Œåˆ‡æ¢é€»è¾‘
â”‚   â”œâ”€â”€ i18n/              # å›½é™…åŒ–æ”¯æŒ
â”‚   â”‚   â””â”€â”€ texts.go       # å¤šè¯­è¨€æ–‡æœ¬ç®¡ç†
â”‚   â””â”€â”€ ui/                # ç”¨æˆ·ç•Œé¢å±‚
â”‚       â”œâ”€â”€ menu.go        # èœå•çŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ render.go      # æ¸²æŸ“å¼•æ“æ ¸å¿ƒ
â”‚       â”œâ”€â”€ components.go  # å¯å¤ç”¨UIç»„ä»¶
â”‚       â”œâ”€â”€ input.go       # ç”¨æˆ·è¾“å…¥å¤„ç†
â”‚       â”œâ”€â”€ interaction.go # ç”¨æˆ·äº¤äº’é€»è¾‘
â”‚       â”œâ”€â”€ layout.go      # å¸ƒå±€ç®¡ç†ç³»ç»Ÿ
â”‚       â””â”€â”€ draw.go        # åº•å±‚ç»˜åˆ¶åŠŸèƒ½
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

### ä»£ç è´¨é‡æ ‡å‡†

- **å‡½æ•°å¤æ‚åº¦**: æ¯ä¸ªå‡½æ•°ä¸è¶…è¿‡30è¡Œ
- **ç±»å¤§å°é™åˆ¶**: æ¯ä¸ªç»“æ„ä½“ä¸è¶…è¿‡300è¡Œ
- **åµŒå¥—æ§åˆ¶**: é€»è¾‘åµŒå¥—æ·±åº¦ä¸è¶…è¿‡3å±‚
- **å‚æ•°é™åˆ¶**: å‡½æ•°å‚æ•°ä¸è¶…è¿‡4ä¸ª
- **é”™è¯¯å¤„ç†**: æ‰€æœ‰å¯èƒ½å¤±è´¥çš„æ“ä½œéƒ½æœ‰æ˜ç¡®çš„é”™è¯¯å¤„ç†

### æ„å»ºå’Œæµ‹è¯•

```bash
# å¼€å‘ç¯å¢ƒæ„å»º
go build -v .

# è¿è¡Œæµ‹è¯•
go test ./...

# ä»£ç æ ¼å¼åŒ–
go fmt ./...

# é™æ€æ£€æŸ¥
go vet ./...

# äº¤å‰ç¼–è¯‘å‘å¸ƒç‰ˆæœ¬
GOOS=linux GOARCH=amd64 go build -ldflags="-s -w" -o dist/hostmanager-linux .
GOOS=darwin GOARCH=amd64 go build -ldflags="-s -w" -o dist/hostmanager-macos .
GOOS=windows GOARCH=amd64 go build -ldflags="-s -w" -o dist/hostmanager-windows.exe .
```

### å¼€å‘è§„èŒƒ

éµå¾ªé¡¹ç›®çš„ `CLAUDE.md` ä¸­å®šä¹‰çš„æ¶æ„å¸ˆçº§åˆ«ä»£ç æ ‡å‡†ï¼š

- ä½¿ç”¨ Guard Clauses å‡å°‘åµŒå¥—
- å‡½æ•°èŒè´£å•ä¸€ï¼Œæ˜“äºæµ‹è¯•
- é”™è¯¯å¤„ç†æ˜¾å¼ä¸”å®Œæ•´
- å˜é‡å‘½åæ¸…æ™°æè¿°ç”¨é€”
- ä»£ç æ³¨é‡Šè§£é‡Š"ä¸ºä»€ä¹ˆ"è€Œé"åšä»€ä¹ˆ"

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ä»£ç è´¨é‡è¦æ±‚

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. **éµå¾ªæ¶æ„åŸåˆ™**: æŸ¥çœ‹ `CLAUDE.md` äº†è§£è¯¦ç»†è§„èŒƒ
2. **é€šè¿‡æ‰€æœ‰æ£€æŸ¥**: è¿è¡Œ `go test ./... && go vet ./... && go fmt ./...`
3. **ä¿æŒç®€æ´æ€§**: å‡½æ•°ä¸è¶…è¿‡30è¡Œï¼ŒåµŒå¥—ä¸è¶…è¿‡3å±‚
4. **é”™è¯¯å¤„ç†**: æ‰€æœ‰å¯èƒ½å¤±è´¥çš„æ“ä½œéƒ½è¦æœ‰æ˜ç¡®çš„é”™è¯¯å¤„ç†

### æäº¤æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. éµå¾ªä»£ç è§„èŒƒæäº¤ä»£ç 
4. æäº¤Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶